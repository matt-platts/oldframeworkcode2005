<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" id="html">
<head>

    <title>MooTools UI menu</title>

    <meta http-equiv="imagetoolbar"     content="no" />
    <meta http-equiv="Content-Language" content="fr" />
    <meta http-equiv="Content-Type"     content="text/html; charset=iso-8859-1" />

    <meta http-equiv="pragma"           content="no-cache" />
    <meta http-equiv="cache-control"    content="no-store, no-cache, must-revalidate" />
    <meta http-equiv="cache-control"    content="post-check=0, pre-check=0" />
    <meta http-equiv="expires"          content="0" />

    <style type="text/css" media="all">
        @import "menu/menu.css";
    </style>

    <script src="mootools-beta-1.2b2.js"                        type="text/javascript"></script>
<!--    <script src="mootools-trunk-1355.js"                        type="text/javascript"></script>-->

    <script type="text/javascript">

        var UI = {};

        window.addEvent( 'domready', function() {

                    document.oncontextmenu  = function() { return false; };

                    var desktopMenu   = new UI.Menu( 'test_button', { position : [ 'top', 'right' ] } );
                    desktopMenu.addItem( { id : 'button0', label :'New', styles : { 'font-weight' : 'bold' } } );
                    desktopMenu.addItem( { id : 'button1', label :'Save' } );
                    desktopMenu.addSeparator();
                    desktopMenu.addItem( { id : 'button2', label :'Close', icon : 'menu/add.png', onclick : function() { alert('"Close" clicked !'); } } );
                    desktopMenu.addItem( { id : 'button3', label :'Quit', icon : 'menu/application.png' } );

                    var desktopMenu2  = new UI.Menu( 'rightClickTest', { event : 'rightClick' } );
                    desktopMenu2.addItems( [   { id : 'button10', label :'Remove this item', onclick : function() { this.removeItem( 0 ); } }
                                        ,   { id : 'button11', label :'Remove Separator', styles : { 'font-style' : 'italic' }, onclick : function() { alert('func A'); } }
                                        ,   { separator : true }
                                        ,   { id : 'button12', label :'Sub Menu Here', icon : 'menu/add.png' }
                                        ,   { id : 'button22', label :'Toggle next sub menu', onclick : function() { desktopMenu2.toggleItem( 'button121' ); } }
                                        ,   { id : 'button121', label :'Deep Sub Menu', icon : 'menu/add.png' }
                                        ,   { id : 'button21', label :'Click me', icon : 'menu/application.png', onclick : function() { alert('clicked'); } }
                                        ,   { id : 'button13', label :'Toggle previous button status', onclick : function() { desktopMenu2.toggleItem( 'button21' ); } } ] );

                    desktopMenu2.updateItemOnclick( 'button11', function() { if ( desktopMenu2.getSeparator(0) ) desktopMenu2.removeSeparator(0); else alert('already removed !'); } );

                    var desktopMenu3   = desktopMenu2.addSubMenu( 'button12' );
                    desktopMenu3.addItem( { id : 'button14', label : 'SubMenu' } );

                    var desktopMenu4   = desktopMenu2.addSubMenu( 'button121' );
                    desktopMenu4.addItem( { id : 'button141', label : 'SubMenu' } );

                    var desktopMenu5   = desktopMenu4.addSubMenu( 'button141' );
                    desktopMenu5.addItem( { id : 'button50', label : 'sub sub menu' } );

//                    alert( $('button11').retrieve( 'events' )['click'].keys );

                } );

    </script>

    <script src="menu/UI.Menu.js"                               type="text/javascript"></script>

</head>

<body>

<button id="test_button">TEST</button><br /><br />

<div id="rightClickTest" style="border : 1px solid black;">
<br /><br />
Right Click Here
<br /><br />
</div>

<br /><br />
<a href="menu/">Download all files here</a>

</body>
</html>

